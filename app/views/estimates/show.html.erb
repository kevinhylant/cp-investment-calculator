
<div class='bg-img bg-img-1 '>
  <div class='overlay-content-box dark-bg cp-mission center'>
    <h1>ClassPass wants to help</h1>
    <h1>you grow</h1>
    <p>Thank you for helping us motivate thousands to achieve healthier lifestyles.</p>
    <p class="content-end">We know that we could not do it without our partners so we are excited to now offer a program that we hope will further empower studios<span class='indent'> to support and grow their operations.</span></p>
    <a class="overlay-box-bottom-strip learn-more" href="http://classpass.com">Learn More</a>
  </div>
</div>

<!-- FIXED COSTS -->
<div class='bg-img bg-img-2 '>
  <div class='overlay-content-box light-bg center'>   
    <%= form_tag("/estimate", method: "post") do %>
      <h1 class="form-title">Studio Info</h1>
      <div class="form-element">
        <%= text_field_tag("employee[name]", if @employee ; @employee.name ; end, :placeholder => 'Your Name' , :class => "form-text-input  studio f-elem" ) %>
        <%= text_field_tag("employee[position]", if @employee ; @employee.position ; end , :placeholder => 'Your Position' , :class => "form-text-input  studio f-elem" ) %>
        <%= text_field_tag("studio[name]", if @studio ; @studio.name ; end , :placeholder => 'Studio Name' , :class => "form-text-input  studio f-elem" ) %>
        <select class='city' name="studio[hq_city]">>
          <% @cities.each do |city| %>
            <option value="<%= city.downcase %>"><%= city %></option>
            <% end %>
        </select>
      </div>

      <div>
        <h3>Activity Types</h3>
        <% i = 1 %>
        <% @activities.each do |activity,act_for_db| %>
          <span class="checkbox">
            <input type="checkbox" name="activity_types[<%= act_for_db %>]" id="checkbox<%= i %>Input" value='<%= activity.downcase %>' <%= if @activity_types && @activity_types.include?(activity.downcase) ; 'checked' ; elsif activity == "Other" ; 'checked' ; end %>><%= activity %>
            <label for="checkbox<%= i %>Input"></label>
          </span>
          <span <%= if i%4 == 0 ; "class= top-margin-sm" ; end %>></span>

          <% i+=1 %>
        <% end %>
      </div>
      
      <div class='fc-form'>
        <h2>Fixed Costs</h2>
        <% i = 1 %>
        <% @fixed_costs.each do |name,data_params| %>
          <%= data_params[0] %>
          <select name="fixed_costs[<%= name %>]">
            <% data_params[1].each do |cost_range,avg_value| %>
              <option class ='f-elem' value=<%= avg_value %>><%= cost_range %></option>
              <% end %>
          </select>
          <span <%= if i%3 == 0 ; "class=indent" ; end %>></span>
          <% i+=1 %>
        <% end %>
        <div class="line-spacer"></div>
        <%= submit_tag("Calculate", :class => "btn blue indent center-block") %>
        
      <% end %>
    </div>
  <h2 class="overlay-box-bottom-strip blue fc-sum">Total Fixed Costs = <span class='fixed-cost-sum'><%= if @fc_sum ; @fc_sum ; end %></span></h2>
  </div>
</div>


<!-- OPERATING COSTS -->
<% if @estimate %>
  <div class='bg-img bg-img-3 '>
    <div class='overlay-content-box-clear-bg center'>
      
      <%= form_tag("/estimate", method: "patch") do %>
        <h1 class="form-title oc">Operating Costs</h1>
        <div class="form-element">
          <%= hidden_field_tag "estimate_id", if @estimate ; @estimate.id ; end %>
          <% i=1 %>
          <% @operating_costs.each do |name,label| %>
            <%= text_field_tag("operating_costs[#{name}]",  if @operating_cost ; @operating_cost[name] ; end , :placeholder => label , :class => 'form-text-input oc f-elem' ) %>            
            <span <%= if i%2 == 0 ; "class=indent" ; end %>></span>
            <% i+=1 %>
          <% end %>
        </div>
        <%= submit_tag("Calculate", :class => "btn white indent center-block") %>
      <% end %>
      <h2 class="overlay-box-bottom-strip white fc-sum">Total Monthly Operating Costs = <span class='operating-cost-sum'><%= if @oc_sum ; @oc_sum ; end %></span></h2>
    </div>
  </div>
<% end %>



<br><br><br>
  <!-- IN DEVELOPMENT -->

<div class='wrapper'>    
    <%#= form_tag do %>
      <%#=text_field_tag 'cost', '', :autocomplete => autocomplete_rent_cost_calculations_path %>
    <%# end %>
  <h3 class='development-notes'>To Do's</h3>
    <ul>
      <li>[in progress] Require all fields to be complete before submitting</li>
      <li>[priority] Prevent auto-reload of page</li>
      <li>Min Viable Product Complete</li>
      <br>
      <li>[med] Store submitted form fields in cookies</li>
      <li>[med] Am adding 'other' for drop-downs, remove low/high ranges</li>
      <li>[med] Create 2 categories for Operating Costs (employee costs  &  monthly), also lightweight labels</li> 
      <li>[med] adding 'other' for drop-downs, remove low/high ranges</li>
      <li>[low] Create an admin login to view information - not time sensitive</li>
    </ul>
  <h3 class='development-notes'>Completed</h3>
    <ul>
      <li>Fixed font issue</li>
      <li>Add Architect's range: 5-10,10-20,20-25</li>
      <li>Save Fixed Costs and Operating Costs independently and tie to employee, not studio</li>
      <li>Add Position Name to Studio Form</li>
      <li>Fix page refresh issue</li>
      <li>Create backend structure to support data presentation in admin dashboard</li>
      <li>Change Build Out to Construction</li>
      <li>Build an admin dashboard to view and search past estimates</li>
      <li>Format Operating Costs form</li>
      <li>Add other for activity types (might be hard to allow write-ins)</li>
    </ul>

  <h3> Copy to Add </h3>
  <p>ClassPass is nothing with our partners. We want to help support you through our studio empowerment program</p>

  <h3 class='development-notes'>Questions</h3>
    <ul>
      <li>Should I include security deposit as an option? right now it just submits as 3x rent</li>
    </ul>
  <br>
</div>

